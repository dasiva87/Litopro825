# GrafiRed 3.0 - Configuración de Producción
# Copia este archivo a Railway como variables de entorno

# ======================
# APLICACIÓN
# ======================
APP_NAME="GrafiRed 3.0"
APP_ENV=production
APP_DEBUG=false
APP_TIMEZONE=America/Bogota
APP_URL=https://tu-app.railway.app

APP_LOCALE=es
APP_FALLBACK_LOCALE=es
APP_FAKER_LOCALE=es_CO

APP_MAINTENANCE_DRIVER=file

# ======================
# SEGURIDAD
# ======================
# Generar con: php artisan key:generate --show
APP_KEY=base64:TU_APP_KEY_AQUI

BCRYPT_ROUNDS=12

# ======================
# BASE DE DATOS
# ======================
# Railway provee estas variables automáticamente si agregas MySQL
# Usa referencias a las variables de Railway
DB_CONNECTION=mysql
DB_HOST=${MYSQLHOST}
DB_PORT=${MYSQLPORT}
DB_DATABASE=${MYSQLDATABASE}
DB_USERNAME=${MYSQLUSER}
DB_PASSWORD=${MYSQLPASSWORD}

# ======================
# SESIONES Y CACHE
# ======================
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

CACHE_STORE=database
CACHE_PREFIX=grafired_cache

# ======================
# COLAS (QUEUES)
# ======================
QUEUE_CONNECTION=database

# ======================
# FILESYSTEM
# ======================
# Para producción, considera usar S3 o Railway Volumes
FILESYSTEM_DISK=local

# Si usas S3:
# FILESYSTEM_DISK=s3
# AWS_ACCESS_KEY_ID=tu-access-key
# AWS_SECRET_ACCESS_KEY=tu-secret-key
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=tu-bucket-name
# AWS_USE_PATH_STYLE_ENDPOINT=false

# ======================
# EMAIL
# ======================
# IMPORTANTE: NO usar Mailtrap en producción
# Opciones: SendGrid, Mailgun, Amazon SES, Postmark

# Opción 1: SMTP Genérico (SendGrid, Mailgun, etc.)
MAIL_MAILER=smtp
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=tu-sendgrid-api-key
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="no-reply@grafired.com"
MAIL_FROM_NAME="${APP_NAME}"

# Opción 2: Mailgun (recomendado)
# MAIL_MAILER=mailgun
# MAILGUN_DOMAIN=mg.tudominio.com
# MAILGUN_SECRET=tu-mailgun-secret
# MAILGUN_ENDPOINT=api.mailgun.net

# Opción 3: Amazon SES
# MAIL_MAILER=ses
# AWS_ACCESS_KEY_ID=tu-access-key
# AWS_SECRET_ACCESS_KEY=tu-secret-key
# AWS_DEFAULT_REGION=us-east-1

# ======================
# LOGGING
# ======================
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning

# Para production, considera usar servicios como:
# - Sentry: https://sentry.io
# - Papertrail: https://www.papertrail.com
# - Logtail: https://logtail.com

# ======================
# BROADCASTING
# ======================
BROADCAST_CONNECTION=log

# Para notificaciones en tiempo real (futuro):
# BROADCAST_CONNECTION=pusher
# PUSHER_APP_ID=tu-app-id
# PUSHER_APP_KEY=tu-app-key
# PUSHER_APP_SECRET=tu-app-secret
# PUSHER_APP_CLUSTER=mt1

# ======================
# REDIS (Opcional)
# ======================
# Railway puede proveer Redis como addon
# REDIS_CLIENT=phpredis
# REDIS_HOST=${REDISHOST}
# REDIS_PASSWORD=${REDISPASSWORD}
# REDIS_PORT=${REDISPORT}

# ======================
# SERVICIOS DE TERCEROS
# ======================

# Cashier Stripe (para pagos)
# STRIPE_KEY=tu-stripe-public-key
# STRIPE_SECRET=tu-stripe-secret-key
# STRIPE_WEBHOOK_SECRET=tu-webhook-secret

# ======================
# OPTIMIZACIONES
# ======================
# Variables para Railway
PHP_CLI_SERVER_WORKERS=4

# ======================
# FILAMENT
# ======================
FILAMENT_FILESYSTEM_DISK=local

# ======================
# VITE
# ======================
VITE_APP_NAME="${APP_NAME}"

# ======================
# CONFIGURACIÓN ADICIONAL
# ======================

# Desactivar debug bar en producción
DEBUGBAR_ENABLED=false

# Timezone de la base de datos
DB_TIMEZONE=+00:00

# ======================
# NOTAS IMPORTANTES
# ======================
# 1. NUNCA commitear este archivo con valores reales
# 2. En Railway, agregar cada variable individualmente en Settings > Variables
# 3. Railway puede auto-generar APP_KEY si no lo provees
# 4. Las variables ${VARIABLE} son referencias a otras variables de Railway
# 5. Después del primer deploy, ejecutar: php artisan storage:link
# 6. Configurar CRON para colas si es necesario: * * * * * cd /app && php artisan schedule:run >> /dev/null 2>&1
